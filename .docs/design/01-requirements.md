# 이커머스 요구사항 정의서

## 1. 목적 및 범위

### 1.1 목적

온라인 커머스 플랫폼을 구축한다.
고객은 브랜드별 상품을 탐색하고, 관심 상품에 좋아요를 표시하며, 주문을 통해 상품을 구매할 수 있다.
관리자는 브랜드와 상품을 등록/관리하고, 주문 현황을 조회할 수 있다.

### 1.2 시스템 사용자

| 사용자 유형            | 설명 |
|-------------------|------|
| **비회원 (Visitor)** | 회원가입 전 상태의 사용자. 공개 정보 조회만 가능하다 |
| **회원 (User)**     | 회원가입을 완료한 사용자. 좋아요, 주문 등 인증이 필요한 기능을 사용한다 |
| **관리자 (Admin)**   | 내부 운영자. 브랜드/상품 관리 및 주문 조회를 수행한다 |

### 1.3 범위

본 문서는 아래 도메인의 기능적 요구사항을 정의한다.

- **브랜드**: 조회(고객), 등록/수정/삭제(관리자)
- **상품**: 조회(고객), 등록/수정/삭제(관리자)
- **좋아요**: 상품에 대한 좋아요 등록/취소/목록 조회
- **장바구니**: 상품 담기/수량 변경/제거/조회
- **주문**: 주문 생성, 주문 내역 조회

> 회원 도메인(가입, 인증, 내 정보 관리)은 이미 구현 완료되었으므로 본 문서의 범위에서 제외한다.

### 1.4 유비쿼터스 언어

본 프로젝트에서 사용하는 도메인 용어를 아래와 같이 정의한다.
모든 문서(요구사항, ERD, API 명세), 코드(클래스명, 변수명), 구두 커뮤니케이션에서 동일한 용어를 사용한다.

#### 사용자

| 한국어 | 영문    | 정의 |
|--------|-------|------|
| 회원 | User  | 회원가입을 완료하여 인증된 상태로 서비스를 이용하는 사용자 |
| 관리자 | Admin | 내부 운영 권한을 가진 사용자. 브랜드/상품 관리, 주문 조회를 수행한다 |

#### 브랜드

| 한국어 | 영문 | 정의 |
|--------|------|------|
| 브랜드 | Brand | 상품을 제공하는 주체. 하나의 브랜드는 여러 상품을 가질 수 있다 |
| 브랜드명 | Brand Name | 브랜드를 식별하는 이름 |

#### 상품

| 한국어 | 영문 | 정의 |
|--------|------|------|
| 상품 | Product | 고객이 구매할 수 있는 판매 단위 |
| 상품명 | Product Name | 상품을 식별하는 이름 |
| 가격 | Price | 상품 1개의 판매 금액 |
| 재고 | Stock | 현재 판매 가능한 상품의 수량 |

#### 좋아요

| 한국어 | 영문 | 정의 |
|--------|------|------|
| 좋아요 | Like | 회원이 특정 상품에 대해 관심을 표시하는 행위. 회원당 상품당 하나만 존재한다 |

#### 장바구니

| 한국어 | 영문 | 정의 |
|--------|------|------|
| 장바구니 | Cart | 회원이 구매를 고려하는 상품을 임시로 모아두는 공간. 회원당 하나 존재한다 |
| 장바구니 항목 | Cart Item | 장바구니에 담긴 개별 상품과 그 수량 |

#### 주문

| 한국어 | 영문 | 정의 |
|--------|------|------|
| 주문 | Order | 회원이 하나 이상의 상품을 구매하기 위해 생성하는 거래 단위 |
| 주문 항목 | Order Item | 주문에 포함된 개별 상품과 그 수량. 주문 시점의 상품 정보를 스냅샷으로 보존한다 |
| 수량 | Quantity | 주문 항목에서 해당 상품을 구매하는 개수 |
| 스냅샷 | Snapshot | 주문 시점의 상품 정보(상품명, 가격, 브랜드 등) 사본. 원본이 변경되어도 주문 기록은 유지된다 |

> **용어 사용 원칙**: "아이템"이 아닌 "상품", "취소"가 아닌 "좋아요 취소"처럼, 위 표에 정의된 용어만을 사용한다. 새로운 용어가 필요한 경우 본 표에 먼저 추가한 후 사용한다.

---

## 2. 유저 시나리오

### 2.1 브랜드 (Brand)

#### US-B01: 브랜드 정보 조회 (고객)

> 고객(비회원/회원)은 특정 브랜드의 정보를 조회할 수 있다.

#### US-B02: 브랜드 목록 조회 (관리자)

> 관리자는 등록된 브랜드 목록을 조회할 수 있다.

- 관리에 필요한 상세 정보를 확인할 수 있다.

#### US-B03: 브랜드 상세 조회 (관리자)

> 관리자는 특정 브랜드의 상세 정보를 조회할 수 있다.

#### US-B04: 브랜드 등록 (관리자)

> 관리자는 새로운 브랜드를 등록할 수 있다.

#### US-B05: 브랜드 정보 수정 (관리자)

> 관리자는 기존 브랜드의 정보를 수정할 수 있다.

#### US-B06: 브랜드 삭제 (관리자)

> 관리자는 브랜드를 삭제할 수 있다.

- 브랜드 삭제 시, 해당 브랜드에 속한 모든 상품도 함께 삭제된다.

---

### 2.2 상품 (Product)

#### US-P01: 상품 목록 조회 (고객)

> 고객(비회원/회원)은 상품 목록을 탐색할 수 있다.

- 특정 브랜드의 상품만 필터링하여 볼 수 있다.
- 정렬 기준을 선택할 수 있다 (최신순은 필수, 가격순/좋아요순은 선택).
- 페이지 단위로 조회한다.

#### US-P02: 상품 상세 조회 (고객)

> 고객(비회원/회원)은 특정 상품의 상세 정보를 조회할 수 있다.

#### US-P03: 상품 목록 조회 (관리자)

> 관리자는 등록된 상품 목록을 조회할 수 있다.

- 브랜드별로 필터링하여 조회할 수 있다.
- 관리에 필요한 상세 정보를 확인할 수 있다.

#### US-P04: 상품 상세 조회 (관리자)

> 관리자는 특정 상품의 상세 정보를 조회할 수 있다.

#### US-P05: 상품 등록 (관리자)

> 관리자는 새로운 상품을 등록할 수 있다.

- 상품은 반드시 이미 등록된 브랜드에 속해야 한다.

#### US-P06: 상품 정보 수정 (관리자)

> 관리자는 기존 상품의 정보를 수정할 수 있다.

- 단, 상품의 소속 브랜드는 변경할 수 없다.

#### US-P07: 상품 삭제 (관리자)

> 관리자는 상품을 삭제할 수 있다.

---

### 2.3 좋아요 (Like)

#### US-L01: 상품 좋아요 등록

> 회원은 관심 있는 상품에 좋아요를 등록할 수 있다.

#### US-L02: 상품 좋아요 취소

> 회원은 이전에 등록한 좋아요가 있다면, 한 번 더 클릭하여 좋아요를 취소할 수 있다.

#### US-L03: 좋아요한 상품 목록 조회

> 회원은 자신이 좋아요를 등록한 상품 목록을 조회할 수 있다.

---

### 2.4 장바구니 (Cart)

#### US-C01: 장바구니에 상품 담기

> 회원은 구매를 고려하는 상품을 장바구니에 담을 수 있다.

- 담을 상품과 수량을 지정한다.
- 이미 장바구니에 있는 상품을 다시 담으면, 수량이 누적된다.

#### US-C02: 장바구니 조회

> 회원은 자신의 장바구니에 담긴 상품 목록을 조회할 수 있다.

#### US-C03: 장바구니 상품 수량 변경

> 회원은 장바구니에 담긴 상품의 수량을 변경할 수 있다.

#### US-C04: 장바구니 상품 제거

> 회원은 장바구니에서 특정 상품을 제거할 수 있다.

---

### 2.5 주문 (Order)

#### US-O01: 주문 생성

> 회원은 하나 이상의 상품을 선택하고 수량을 지정하여 주문할 수 있다.

- 주문 시점의 상품 정보가 주문에 스냅샷으로 보존된다.
- 주문이 완료되면, 해당 수량만큼 상품 재고가 차감된다.

#### US-O02: 주문 목록 조회 (회원)

> 회원은 자신의 주문 내역을 기간을 지정하여 조회할 수 있다.

- 조회 시작일과 종료일을 지정한다.

#### US-O03: 주문 상세 조회 (회원)

> 회원은 자신의 특정 주문의 상세 내역을 조회할 수 있다.

- 주문 당시의 브랜드,상품 정보를 확인할 수 있다.

#### US-O04: 주문 목록 조회 (관리자)

> 관리자는 전체 주문 목록을 페이지 단위로 조회할 수 있다.

#### US-O05: 주문 상세 조회 (관리자)

> 관리자는 특정 주문의 상세 내역을 조회할 수 있다.

---

## 3. 비즈니스 규칙

### 3.1 인증 및 권한

| 규칙 ID | 규칙 | 비고 |
|---------|------|------|
| BR-A01 | 회원 전용 기능은 인증된 사용자만 접근할 수 있다 | 좋아요, 주문 등 |
| BR-A02 | 관리자 전용 기능은 관리자 인증을 통과한 사용자만 접근할 수 있다 | 브랜드/상품 관리, 주문 관리 |
| BR-A03 | 공개 기능(상품 조회, 브랜드 조회)은 인증 없이 접근할 수 있다 | |

### 3.2 브랜드

| 규칙 ID | 규칙 | 비고 |
|---------|------|------|
| BR-B01 | 브랜드를 삭제하면, 해당 브랜드에 속한 모든 상품도 함께 삭제된다 | 연쇄 삭제 |
| BR-B02 | 고객에게 제공되는 브랜드 정보와 관리자에게 제공되는 브랜드 정보는 다를 수 있다 | 노출 범위 구분 |

### 3.3 상품

| 규칙 ID | 규칙 | 비고                                                    |
|---------|------|-------------------------------------------------------|
| BR-P01 | 상품은 반드시 이미 등록된 브랜드에 속해야 한다 | 등록 시 검증                                               |
| BR-P02 | 상품의 소속 브랜드는 등록 이후 변경할 수 없다 | 불변 속성                                                 |
| BR-P03 | 상품 목록은 최신순 정렬을 기본으로 제공한다 | 필수 정렬                                                 |
| BR-P04 | 가격순, 좋아요순 정렬은 선택적으로 제공할 수 있다 | 선택 구현                                                 |
| BR-P05 | 고객에게 제공되는 상품 정보와 관리자에게 제공되는 상품 정보는 다를 수 있다 | 노출 범위 구분 (예: 회원 및 비회원은 재고 여부만 확인, 관리자는 재고 수량까지 확인 가능) |

### 3.4 좋아요

| 규칙 ID | 규칙 | 비고 |
|---------|------|------|
| BR-L01 | 한 회원은 동일 상품에 좋아요를 한 번만 등록할 수 있다 | 중복 방지 |
| BR-L02 | 좋아요를 등록하지 않은 상품에 대해 취소할 수 없다 | |
| BR-L03 | 회원은 자신의 좋아요 목록만 조회할 수 있다 | |

### 3.5 장바구니

| 규칙 ID | 규칙 | 비고 |
|---------|------|------|
| BR-C01 | 회원은 하나의 장바구니를 가진다 | |
| BR-C02 | 이미 장바구니에 있는 상품을 다시 담으면, 기존 수량에 누적된다 | |
| BR-C03 | 장바구니 항목의 수량은 1 이상이어야 한다 | |
| BR-C04 | 회원은 자신의 장바구니만 조회/수정할 수 있다 | |

### 3.6 주문

| 규칙 ID | 규칙 | 비고 |
|---------|------|------|
| BR-O01 | 주문은 하나 이상의 상품 항목을 포함해야 한다 | |
| BR-O02 | 각 상품 항목의 수량은 1 이상이어야 한다 | |
| BR-O03 | 주문 시점에 상품 재고가 충분해야 한다 | 재고 부족 시 주문 실패 |
| BR-O04 | 주문이 성공하면, 주문한 수량만큼 상품 재고가 차감된다 | |
| BR-O05 | 주문에는 당시 상품 정보가 스냅샷으로 보존된다 | 이후 상품 정보가 변경되어도 주문 기록은 유지 |
| BR-O06 | 회원은 자신의 주문만 조회할 수 있다 | |
| BR-O07 | 관리자는 전체 주문을 조회할 수 있다 | |
| BR-O08 | 주문 목록 조회 시, 기간(시작일~종료일)을 지정하여 필터링한다 | 회원 조회 시 |

---

## 4. 예외 및 정책

### 4.1 공통

| 예외 상황 | 정책 |
|-----------|------|
| 인증되지 않은 사용자가 인증 필요 기능에 접근 | 접근을 거부하고, 인증 필요 사유를 안내한다 |
| 관리자 인증 없이 관리자 기능에 접근 | 접근을 거부한다 |

### 4.2 브랜드

| 예외 상황 | 정책 |
|-----------|------|
| 존재하지 않는 브랜드 조회/수정/삭제 시도 | 요청을 거부하고, 존재하지 않음을 안내한다 |

### 4.3 상품

| 예외 상황 | 정책 |
|-----------|------|
| 존재하지 않는 브랜드에 상품 등록 시도 | 등록을 거부하고, 브랜드가 존재하지 않음을 안내한다 |
| 상품의 소속 브랜드 변경 시도 | 수정을 거부한다 |
| 존재하지 않는 상품 조회/수정/삭제 시도 | 요청을 거부하고, 존재하지 않음을 안내한다 |

### 4.4 좋아요

| 예외 상황 | 정책 |
|-----------|------|
| 이미 좋아요한 상품에 다시 좋아요 시도 | 등록을 거부하고, 이미 좋아요 상태임을 안내한다 |
| 좋아요하지 않은 상품에 좋아요 취소 시도 | 취소를 거부하고, 좋아요 상태가 아님을 안내한다 |
| 존재하지 않는 상품에 좋아요 시도 | 등록을 거부한다 |

### 4.5 장바구니

| 예외 상황 | 정책 |
|-----------|------|
| 존재하지 않는 상품을 장바구니에 담으려는 경우 | 담기를 거부한다 |
| 장바구니에 없는 상품의 수량을 변경하려는 경우 | 변경을 거부한다 |
| 수량을 0 이하로 변경하려는 경우 | 변경을 거부한다 |

### 4.6 주문

| 예외 상황 | 정책 |
|-----------|------|
| 주문 상품의 재고가 부족한 경우 | 주문을 거부하고, 재고 부족 사유를 안내한다 |
| 존재하지 않는 상품을 주문에 포함한 경우 | 주문을 거부한다 |
| 주문 항목이 비어있는 경우 | 주문을 거부한다 |
| 수량이 0 이하인 항목이 포함된 경우 | 주문을 거부한다 |
| 다른 회원의 주문을 조회하려는 경우 | 접근을 거부한다 |

---

## 5. 이번 범위에서 제외하는 것들

| 항목 | 사유 |
|------|------|
| **회원 도메인** | 이미 구현 완료 (가입, 인증, 내 정보 관리, 비밀번호 변경) |
| **결제** | 추후 별도 단계에서 개발 예정 |
| **주문 취소/환불** | 결제 기능과 연계하여 추후 개발 |
| **주문 상태 관리** (배송 중, 배송 완료 등) | 현재 범위에서는 주문 생성과 조회만 다룬다 |
| **상품 이미지 관리** | 파일 업로드/스토리지는 현재 범위에 포함하지 않는다 |
| **상품 카테고리** | 현재는 브랜드 단위로만 상품을 분류한다 |
| **검색 (키워드 기반 상품 검색)** | 현재는 브랜드 필터링과 정렬만 제공한다 |
| **회원 탈퇴** | 현재 범위에 포함하지 않는다 |
| **관리자 등록/관리** | 관리자 계정 관리는 현재 범위에 포함하지 않는다 |
